#!/bin/bash

# Italian Cities Coordinate Testing for Distance Lookup Service
# Usage: ./test-coordinates.sh

BASE_URL="https://distance.lookupferrara.it"

echo "🇮🇹 Testing Italian Cities with Coordinates"
echo "==========================================="

# Define coordinates as separate variables
ROMA_COORDS="41.9028,12.4964"
MILANO_COORDS="45.4642,9.1900"
NAPOLI_COORDS="40.8518,14.2681"
TORINO_COORDS="45.0703,7.6869"
PALERMO_COORDS="38.1157,13.3615"
GENOVA_COORDS="44.4056,8.9463"
BOLOGNA_COORDS="44.4949,11.3426"
FIRENZE_COORDS="43.7696,11.2558"
BARI_COORDS="41.1171,16.8719"
CATANIA_COORDS="37.5079,15.0830"
VENEZIA_COORDS="45.4408,12.3155"
VERONA_COORDS="45.4384,10.9916"
MESSINA_COORDS="38.1938,15.5540"
PADOVA_COORDS="45.4064,11.8768"
TRIESTE_COORDS="45.6495,13.7768"
BRESCIA_COORDS="45.5416,10.2118"
TARANTO_COORDS="40.4668,17.2725"
PRATO_COORDS="43.8777,11.1023"
REGGIO_CALABRIA_COORDS="38.1109,15.6617"
MODENA_COORDS="44.6471,10.9252"
REGGIO_EMILIA_COORDS="44.6989,10.6297"
PERUGIA_COORDS="43.1122,12.3888"
LIVORNO_COORDS="43.5485,10.3106"
RAVENNA_COORDS="44.4173,12.1965"
CAGLIARI_COORDS="39.2238,9.1217"
FOGGIA_COORDS="41.4621,15.5444"
RIMINI_COORDS="44.0678,12.5695"
SALERNO_COORDS="40.6824,14.7681"
FERRARA_COORDS="44.8378,11.6197"
SASSARI_COORDS="40.7259,8.5540"

echo "📍 Available cities for testing:"
echo "   Roma: $ROMA_COORDS"
echo "   Milano: $MILANO_COORDS"
echo "   Napoli: $NAPOLI_COORDS"
echo "   Torino: $TORINO_COORDS"
echo "   Palermo: $PALERMO_COORDS"
echo "   Genova: $GENOVA_COORDS"
echo "   Bologna: $BOLOGNA_COORDS"
echo "   Firenze: $FIRENZE_COORDS"
echo "   Bari: $BARI_COORDS"
echo "   Catania: $CATANIA_COORDS"
echo "   Venezia: $VENEZIA_COORDS"
echo "   Verona: $VERONA_COORDS"
echo "   Messina: $MESSINA_COORDS"
echo "   Padova: $PADOVA_COORDS"
echo "   Trieste: $TRIESTE_COORDS"
echo "   Brescia: $BRESCIA_COORDS"
echo "   Taranto: $TARANTO_COORDS"
echo "   Prato: $PRATO_COORDS"
echo "   Reggio_Calabria: $REGGIO_CALABRIA_COORDS"
echo "   Modena: $MODENA_COORDS"
echo "   Reggio_Emilia: $REGGIO_EMILIA_COORDS"
echo "   Perugia: $PERUGIA_COORDS"
echo "   Livorno: $LIVORNO_COORDS"
echo "   Ravenna: $RAVENNA_COORDS"
echo "   Cagliari: $CAGLIARI_COORDS"
echo "   Foggia: $FOGGIA_COORDS"
echo "   Rimini: $RIMINI_COORDS"
echo "   Salerno: $SALERNO_COORDS"
echo "   Ferrara: $FERRARA_COORDS"
echo "   Sassari: $SASSARI_COORDS"

echo ""
echo "🧪 Running test: Roma to Milano"
echo "==============================="

echo "📍 Roma coordinates: $ROMA_COORDS"
echo "📍 Milano coordinates: $MILANO_COORDS"
echo ""

# Test with coordinates
echo "🔄 Testing with coordinates..."
response=$(curl -s "$BASE_URL/distance?origin=$ROMA_COORDS&destination=$MILANO_COORDS")
echo "📊 Response:"
echo "$response" | python3 -m json.tool 2>/dev/null || echo "$response"

echo ""
echo "🧪 Running test: Ferrara to Bologna"
echo "===================================="

echo "📍 Ferrara coordinates: $FERRARA_COORDS"
echo "📍 Bologna coordinates: $BOLOGNA_COORDS"
echo ""

# Test with coordinates
echo "🔄 Testing with coordinates..."
response=$(curl -s "$BASE_URL/distance?origin=$FERRARA_COORDS&destination=$BOLOGNA_COORDS")
echo "📊 Response:"
echo "$response" | python3 -m json.tool 2>/dev/null || echo "$response"

echo ""
echo "💡 Usage Examples:"
echo "=================="
echo "# Test any two cities:"
echo "curl \"$BASE_URL/distance?origin=\${cities[Roma]}&destination=\${cities[Milano]}\""
echo ""
echo "# Mix coordinates with addresses:"
echo "curl \"$BASE_URL/distance?origin=44.8378,11.6197&destination=Bologna,+Italy\""
echo ""
echo "# Use specific addresses:"
echo "curl \"$BASE_URL/distance?origin=Piazza+San+Marco,+Venezia&destination=Colosseo,+Roma\""
